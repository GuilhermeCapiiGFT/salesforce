<template>  
    <li class="slds-setup-assistant__item" >
        <article class="slds-setup-assistant__step">
          <div class="slds-summary-detail slds-is-open" data-id="sectionPerson">
            <button class="slds-button slds-button_icon slds-m-right_x-small slds-m-top_x-small" onclick={showPersonSection} title="Accordion summary" aria-controls="referenceId-72" aria-expanded="true">
              <lightning-icon  icon-name={personSectionIcon} size="x-small" style="margin-left:12px"></lightning-icon>  
              <span class="slds-assistive-text">Accordion summary</span>
            </button>

            <!-- PERSON SECTION--> 
            <div class="slds-container_fluid">
              <div class="slds-summary-detail__title">
                <div class="slds-setup-assistant__step-summary">
                  <div class="slds-media">
                    <div class="slds-media__figure">
                      <lightning-progress-ring value="25" size="large" variant="base-autocomplete" onclick={showPersonSection}> 1 </lightning-progress-ring>
                    </div>
                    <div class="slds-media__body slds-m-top_x-small">
                      <div class="slds-media">
                        <div class="slds-setup-assistant__step-summary-content slds-media__body">                          
                          <h3 class="slds-setup-assistant__step-summary-title slds-text-heading_small">
                            <button class="slds-button slds-button_reset" aria-controls="referenceId-72" onclick={showPersonSection} aria-expanded="true" style="font-family: Segoe UI; font-style: normal; font-weight: bold; font-size: 16px; line-height: 24px;">
                              Pessoas
                            </button>
                          </h3>
                        </div>
                        <div class="slds-media__figure slds-media__figure_reverse">
                          <p class="slds-text-align_right slds-text-color_weak">NÃ£o validado</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div aria-hidden="true" class="slds-summary-detail__content" id="referenceId-72">
                <template if:true={showPersonSectionVar}>
                  <div class="slds-setup-assistant__step-detail">
                    <div class="slds-progress slds-progress_vertical slds-progress_success">
                      <ol class="slds-progress__list slds-progress__list-bordered">
                        <template 
                            for:each={customers}
                            for:item="person"
                            for:index="index">
                            <li class="slds-progress__item slds-is-active" key={person.mainDocument.number}>
                              <div class="slds-progress__marker">
                                  <span class="slds-assistive-text">Active</span>
                              </div>
                              <div class="slds-progress__item_content slds-grid slds-grid_align-spread">
                                    <c-minuator-person-customer
                                      index={index}
                                      person={person}
                                      onshowcustomer={handleShowCustomer}
                                      onupdatecustomer={handleUpdateCustomer}>
                                    </c-minuator-person-customer>
                              </div>
                            </li>
                        </template>
                        <li class="slds-progress__item slds-is-active">
                          <div class="slds-progress__marker">
                              <span class="slds-assistive-text">Active</span>
                          </div>
                          <div class="slds-progress__item_content slds-grid slds-grid_align-spread">
                                <c-minuator-person-relationships 
                                  persons={customers}
                                  relationships={relationships}
                                  onupdaterelationships={handleUpdateRelationships}>
                                </c-minuator-person-relationships>
                          </div>
                        </li>
                        <li class="slds-progress__item slds-is-active">
                          <div class="slds-progress__marker">
                              <span class="slds-assistive-text">Active</span>
                          </div>
                          <div class="slds-progress__item_content slds-grid slds-grid_align-spread">
                                <c-minuator-person-addresses
                                  persons={customers}
                                  relationships={relationships}>
                                </c-minuator-person-addresses>
                          </div>
                        </li>
                      </ol> 
                      <div> 
                        <hr style="margin-top: 1px; margin-left: 30px; margin-bottom: 20px;">                          
                        <button class="slds-button slds-button_brand"> Validar </button>   
                                         
                          
                      </div>
                           
                      <div aria-valuemin="0" aria-valuemax="100" aria-valuenow="50" role="progressbar">
                        <span class="slds-assistive-text">Progress: 50%</span>
                      </div>
                    </div>
                  </div>
                </template>
              </div>
            </div>
          </div>
        </article>
    </li>
</template>