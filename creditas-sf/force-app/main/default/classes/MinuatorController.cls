/**
 * @author Otávio Frank - GFT Brasil
 */
public with sharing class MinuatorController {
    
    public static MinuatorService service;

    static {

        service = new MinuatorService();
    }

    @AuraEnabled
    public static string save( String payload, String propertyName ) {
        
        payload = '{"id":"3cf68304-23b7-11eb-a1d0-379db5ffec3c","applicationId":"3cf68304-23b7-11eb-a1d0-379db5ffec3c","persons":[{"sources":{"name":"Minutador","gender":"Minutador","nationality":"Minutador","cellPhone":"Minutador","birthdate":"Minutador","email":"Minutador","profession":"Minutador","fatherName":"Minutador","motherName":"Minutador","composeIncome":"Analisador","isPropertyOwner":"Analisador","maritalStatus":"MDO"},"validation":{"isValidated":false,"validatedAt":null,"validatorEmail":null},"pendingValidation":[],"name":"FLÁVIA TESTE HANSEN PACHECO","address":{"sources":{"zipcode":"MDO","city":"MDO","state":"MDO","neighborhood":"MDO","street":"MDO","number":"MDO","complement":"MDO"},"validation":{"isValidated":false,"validatedAt":null,"validatorEmail":null},"pendingValidation":[],"number":"1973","state":"SP","zipcode":"06543003","city":"Santana de Parnaíba","neighborhood":"Tamboré","street":"Alameda Cores da Mata","complement":"Apto 141B, do Bloco B - Edifício Berilo, do Condomínio Premium Tamboré"},"identityDocument":{"sources":{"type":"Minutador","number":"Minutador","expeditionDate":"Minutador","issuingBody":"Minutador"},"validation":{"isValidated":false,"validatedAt":null,"validatorEmail":null},"pendingValidation":[],"number":"12.874.359-1","type":"RG","expeditionDate":"2022-04-19","issuingBody":"SSP/SP"},"mainDocument":{"sources":{"number":"MDO"},"validation":{"isValidated":false,"validatedAt":null,"validatorEmail":null},"pendingValidation":[],"number":"30267577800","type":"CPF","expeditionDate":null,"issuingBody":null},"gender":"FEMALE","cellPhone":"19974084788","birthdate":"1964-03-11","nationality":"Brasileira","email":"flapache@hotmail.com","profession":"Aposentado(a)","fatherName":"JOSÉ KOBAL PACHECO","motherName":"THEREZA HANSEN PACHECO","composeIncome":false,"propertyOwner":true,"consentingParticipant":null,"maritalStatus":"MARRIED"},{"sources":{"name":"MDO","gender":"Minutador","nationality":"MDO","cellPhone":"MDO","birthdate":"MDO","email":"MDO","profession":"MDO","fatherName":"Minutador","motherName":"Minutador","composeIncome":"Analisador","isPropertyOwner":"Analisador","maritalStatus":"MDO"},"validation":{"isValidated":false,"validatedAt":null,"validatorEmail":null},"pendingValidation":[],"name":"JANSEN MARGARIDO PEREIRA","address":{"sources":{"zipcode":"MDO","city":"MDO","state":"MDO","neighborhood":"MDO","street":"MDO","number":"MDO","complement":"MDO"},"validation":{"isValidated":false,"validatedAt":null,"validatorEmail":null},"pendingValidation":[],"number":"1973","state":"SP","zipcode":"06543003","city":"Santana de Parnaíba","neighborhood":"Tamboré","street":"Alameda Cores da Mata","complement":"Apto 141B, do Bloco B - Edifício Berilo, do Condomínio Premium Tamboré"},"identityDocument":{"sources":{"type":"Minutador","number":"Minutador","expeditionDate":"Minutador","issuingBody":"Minutador"},"validation":{"isValidated":false,"validatedAt":null,"validatorEmail":null},"pendingValidation":[],"number":"01345363601","type":"RG","expeditionDate":null,"issuingBody":"Detran/SP"},"mainDocument":{"sources":{"number":"MDO"},"validation":{"isValidated":false,"validatedAt":null,"validatorEmail":null},"pendingValidation":[],"number":"15049415861","type":"CPF","expeditionDate":null,"issuingBody":null},"gender":null,"cellPhone":"11976903376","birthdate":"1977-12-15","nationality":"brasileiro","email":"jansen@rushseguros.com.br","profession":"corretor de seguros","fatherName":"JEREMIAS DE LIMA PEREIRA","motherName":"ANA MARIA MARGARIDO PEREIRA","composeIncome":true,"propertyOwner":true,"consentingParticipant":null,"maritalStatus":"MARRIED"}],"relationships":[{"sources":{"regimen":"Minutador","marriageDate":"Minutador","participant1Cpf":"MDO","participant2Cpf":"MDO","isCompulsorySeparation":"Minutador"},"validation":{"isValidated":false,"validatedAt":null,"validatorEmail":null},"pendingValidation":[],"type":"MARRIAGE","id":"581edcc5-b9c4-332d-9170-f21e6415e441","regimen":null,"compulsorySeparation":null,"marriageDate":null,"weddingCertificate":null,"prenuptialAgreementData":null,"participant1Cpf":"30267577800","participant2Cpf":"15049415861","underDivorceLaw":true}],"lastUpdated":"2022-04-18T17:09:58","providerContractId":"3cf68304-23b7-11eb-a1d0-379db5ffec3c1650301800582","cciNumber":null,"cciSeries":null,"creditor":null,"underwriter":null}';
        
        MinuatorVO minuator = ( MinuatorVO ) JSON.deserialize(payload, MinuatorVO.class);
 
        return JSON.serialize(minuator);
    }

}